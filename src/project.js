require=function a(c,n,l){function h(i,e){if(!n[i]){if(!c[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(m)return m(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var o=n[i]={exports:{}};c[i][0].call(o.exports,function(e){var t=c[i][1][e];return h(t||e)},o,o.exports,a,c,n,l)}return n[i].exports}for(var m="function"==typeof require&&require,e=0;e<l.length;e++)h(l[e]);return h}({bgitem:[function(e,t,i){"use strict";cc._RF.push(t,"b2647VbkfhJuZJcEOpaRMNq","bgitem"),cc.Class({extends:cc.Component,properties:{nodeColor:{default:null,type:cc.Node,displayName:"颜色方块"},nodeTopColor:{default:null,type:cc.Node,displayName:"最上方的方块"},imgColor:{default:[],type:cc.SpriteFrame,displayName:"图片集合"},labNumber:{default:null,type:cc.Label,displayName:"数字"}},onLoad:function(){this.num=0},start:function(){},setBgType:function(e){this.nodeColor.active=!0,this.nodeColor.getComponent(cc.Sprite).spriteFrame=this.imgColor[e]},setType:function(e){100<e?(this.type=e%100,this.num=parseInt(e/100)):(this.type=e,this.num=0),this.num<2?this.labNumber.node.active=!1:(this.labNumber.node.active=!0,this.labNumber.string=this.num+""),this.nodeTopColor.active=!0,this.nodeTopColor.scale=1,this.nodeTopColor.getComponent(cc.Sprite).spriteFrame=this.imgColor[this.type],this.nodeColor.active=!1},clearBgType:function(){this.nodeColor.active=!1},clearType:function(){this.nodeTopColor.active=!1,this.nodeColor.active=!1,this.labNumber.node.active=!1,this.num=0},disappearAnimation:function(){var e=null;if(this.num<2){var t=cc.scaleTo(.1,.2,.2),i=cc.callFunc(function(){this.nodeTopColor.active=!1},this);e=cc.sequence(t,i)}else{var s=cc.scaleTo(.08,.8,.8),o=cc.scaleTo(.02,1,1),a=cc.callFunc(function(){this.num--,1<this.num?this.labNumber.string=this.num+"":this.labNumber.node.active=!1},this);e=cc.sequence(s,o,a)}this.nodeTopColor.runAction(e)}}),cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"8c756iQ6PBKcJqix8kjHjOv","game"),cc.Class({extends:cc.Component,properties:{nodeMoveItems:{default:[],type:cc.Node,displayName:"三个移动模块"},prefabSquareItem:{default:null,type:cc.Prefab,displayName:"方块预制体"},labMyScore:{default:null,type:cc.Label,displayName:"我的分数"},labBestScore:{default:null,type:cc.Label,displayName:"最高分数"},labOverScore:{default:null,type:cc.Label,displayName:"结局分数"},nodeOverLayout:{default:null,type:cc.Node,displayName:"结局界面"},nodePauseLayout:{default:null,type:cc.Node,displayName:"暂停界面"},nodeGoonLayout:{default:null,type:cc.Node,displayName:"是否继续的界面"},nodeLevelLayout:{default:null,type:cc.Node,displayName:"关卡界面"},nodeNextLevelLayout:{default:null,type:cc.Node,displayName:"下一关界面"},labelNextContent:{default:null,type:cc.Label,displayName:"下一关文字"},labelLevel:{default:null,type:cc.Label,displayName:"关卡关数"},labelLevelScore:{default:null,type:cc.Label,displayName:"过关分数"},prefabScoreAnima:{default:null,type:cc.Prefab,displayName:"分数动画"},audioPlaceSuccess:{default:null,type:cc.AudioClip,displayName:"放置成功音效"},audioPlaceFail:{default:null,type:cc.AudioClip,displayName:"放置失败音效"},audioAllLineRow:{default:null,type:cc.AudioClip,displayName:"消除的音效"}},onLoad:function(){this.m_moveitem_js=[],this.is_game_over=!1,this.square_item_width=90,this.square_item_space=4,this.move_scale=.6,this.offset_small=47*this.move_scale,this.is_moving=!1,this.move_item_index=-1,this.node_width=1920,this.node_height=1080,this.move_item_last=new cc.Vec2(0,0),this.moveitem_position=[new cc.Vec2(734,302),new cc.Vec2(734,0),new cc.Vec2(734,-302)],this.start_item_positon=[],this.color_list=[],this.last_color_list=[],this.m_bg_item=[],this.m_bg_item_js=[],this.m_bg_item_num=[],this.place_number=0,this.disappear_list=[],this.my_score=0,this.best_score=0,this.add_score=0,this.move_item_show=[!0,!0,!0],this.max_level=40;for(var e=0;e<3;e++)this.m_moveitem_js[e]=this.nodeMoveItems[e].getComponent("moveitem"),this.nodeMoveItems[e].zIndex=100;this.move_item_vec=[{x:0,y:-2},{x:0,y:-1},{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:-2,y:0},{x:2,y:0}],this.nodeOverLayout.active=!1,this.nodePauseLayout.active=!1,this.nodeGoonLayout.active=!1,this.nodeNextLevelLayout.active=!1,this.nodeOverLayout.zIndex=500,this.nodePauseLayout.zIndex=500,this.nodeGoonLayout.zIndex=500,this.nodeNextLevelLayout.zIndex=500,this.score_animation=cc.instantiate(this.prefabScoreAnima),this.node.addChild(this.score_animation,500),this.score_anima_js=this.score_animation.getComponent("scoreanima"),this.score_animation.position=new cc.Vec2(0,-2e3),this.registerEventHandler(),this.initBg();var t=cc.sys.localStorage.getItem("best_score");null!=t?(this.best_score=t,this.labBestScore.string=this.best_score):this.best_score=0},clickReadData:function(){this.nodeGoonLayout.active=!1,this.readGameData()},clickNoRead:function(){this.nodeGoonLayout.active=!1},resetData:function(){this.is_game_over=!1,this.my_score=0,this.move_item_show=[!0,!0,!0],this.is_moving=!1,this.move_item_index=-1,this.move_item_last=new cc.Vec2(0,0),(this.place_number=0)<this.gamelevel?this.labBestScore.node.active=!1:(this.labBestScore.node.active=!0,this.labBestScore.string=this.best_score)},resetBgItem:function(){if(0<this.gamelevel)this.getLevelDate();else for(var e=0;e<10;e++)for(var t=0;t<10;t++){var i=10*t+e;this.m_bg_item_num[i]=-1,this.m_bg_item_js[i].clearType()}this.labMyScore.string="0"},start:function(){this.initGameShow()},initGameShow:function(){if(this.randomMove(),this.gamelevel=cc.sys.localStorage.getItem("gamelevel"),0<this.gamelevel)this.nodeLevelLayout.active=!0,this.labBestScore.node.active=!1,this.getLevelDate();else{this.nodeLevelLayout.active=!1,this.labBestScore.node.active=!0;var e=cc.sys.localStorage.getItem("gamedata");null!=e&&20<e.length&&(this.nodeGoonLayout.active=!0)}},getLevelDate:function(){var o=this,e="level_"+this.gamelevel;this.labelLevel.string="第"+this.gamelevel+"关",cc.loader.loadRes(e,function(e,t){if(e)cc.error(e);else{var i=JSON.parse(t);o.level_score=i.level_score,o.m_bg_item_num=i.bg_item_data;for(var s=0;s<o.m_bg_item_num.length;s++)o.m_bg_item_js[s].setType(o.m_bg_item_num[s]);o.labelLevelScore.string="过关分数："+o.level_score}})},randomMove:function(){for(var e=0;e<3;e++){this.nodeMoveItems[e].scale=.2,this.nodeMoveItems[e].opacity=100,this.m_moveitem_js[e].randType(),this.nodeMoveItems[e].position=this.moveitem_position[e];var t=-94*this.m_moveitem_js[e].getTopOffset()*this.move_scale/2,i=-94*this.m_moveitem_js[e].getRightOffset()*this.move_scale/2;this.nodeMoveItems[e].position=this.nodeMoveItems[e].position.add(new cc.Vec2(i,t)),this.start_item_positon[e]=this.nodeMoveItems[e].position,this.move_item_show[e]=!0,this.showMoveItemAnimation(this.nodeMoveItems[e])}},registerEventHandler:function(){var t=this;this.node.on("mousedown",function(e){}),this.node.on("mouseup",function(e){}),this.node.on("touchstart",function(e){t.onTouchStart(e)}),this.node.on("touchmove",function(e){t.onTouchMove(e)}),this.node.on("touchend",function(e){t.onTouchEnd(e)}),this.node.on("touchcancel",function(e){}),cc.log("yiran   ----   cc.sys.os："+cc.sys.os),cc.sys.os==cc.sys.OS_ANDROID?(cc.log("yiran   ----OS_ANDROID  "),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)):cc.log("yiran   ----  other  platform")},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.back:cc.log("yiran   ----onKeyDown---------  返回键 -----------  "),this.nodePauseLayout.active=!0}},onKeyUp:function(e){e.keyCode==cc.macro.KEY.back&&(cc.log("yiran   -------------  返回键 -----------  "),this.nodePauseLayout.active=!0)},onTouchStart:function(e){if(!this.is_moving&&!this.is_game_over){for(var t=e.getLocation(),i=this.node.position,s=new cc.Vec2(t.x-i.x,t.y-i.y),o=0;o<3;o++)Math.abs(this.nodeMoveItems[o].position.x-s.x)<94*this.move_scale*2.5&&Math.abs(this.nodeMoveItems[o].position.y-s.y)<94*this.move_scale*2.5&&(this.move_item_index=o);-1!=this.move_item_index&&(this.is_moving=!0,this.move_item_last=s,this.clickAnimation(this.nodeMoveItems[this.move_item_index],s))}},onTouchMove:function(e){if(this.is_moving&&!this.is_game_over){var t=e.getLocation(),i=this.node.position,s=new cc.Vec2(t.x-i.x,t.y-i.y),o=new cc.Vec2(s.x-this.move_item_last.x,s.y-this.move_item_last.y);this.nodeMoveItems[this.move_item_index].position=new cc.Vec2(this.nodeMoveItems[this.move_item_index].position.x+o.x,this.nodeMoveItems[this.move_item_index].position.y+o.y),this.can_place=!0;for(var a=0;a<13;a++)if(this.m_moveitem_js[this.move_item_index].isItemHad(a)){var c,n=this.nodeMoveItems[this.move_item_index].position.add(this.m_moveitem_js[this.move_item_index].getItemPosition(a));if(n.x<-470||470<n.x){this.can_place=!1,this.color_list=[];break}if(n.y<-470||470<n.y){this.can_place=!1,this.color_list=[];break}c=Math.floor((n.x+470)/94);var l=10*Math.floor((470-n.y)/94)+c;if(-1!=this.m_bg_item_num[l]){this.can_place=!1,this.color_list=[];break}this.color_list.push(l)}if(this.can_place){var h=!1,m=!1;if(0==this.last_color_list.length&&0!=this.color_list.length)h=!0,m=!1;else if(0!=this.last_color_list.length&&0!=this.color_list.length)for(var r=0;r<this.color_list.length;r++)if(this.color_list[r]!=this.last_color_list[r]){m=h=!0;break}if(m)for(var _=0;_<this.last_color_list.length;_++)this.m_bg_item_js[this.last_color_list[_]].clearBgType();if(h){for(var d=0;d<this.color_list.length;d++)this.m_bg_item_js[this.color_list[d]].setBgType(this.m_moveitem_js[this.move_item_index].getType());this.last_color_list=this.color_list}this.color_list=[]}else{if(0!=this.last_color_list.length)for(var p=0;p<this.last_color_list.length;p++)this.m_bg_item_js[this.last_color_list[p]].clearBgType();this.last_color_list=[],this.color_list=[]}this.move_item_last=s}},onTouchEnd:function(e){if(this.is_moving&&!this.is_game_over){if(this.can_place){for(var t=0;t<this.last_color_list.length;t++)this.m_bg_item_js[this.last_color_list[t]].clearBgType(),this.m_bg_item_js[this.last_color_list[t]].setType(this.m_moveitem_js[this.move_item_index].getType()),this.m_bg_item_num[this.last_color_list[t]]=this.m_moveitem_js[this.move_item_index].getType();this.movePlaceOk(),this.place_number++,3==this.place_number&&(this.place_number=0,this.randomMove()),this.add_score=this.m_moveitem_js[this.move_item_index].getScore(),this.checkAllBgItem()}else this.moveBackAnimation(),cc.audioEngine.play(this.audioPlaceFail,!1,1);this.resetMoveletiate()}},saveGameData:function(){var e={move_item_data:[{type:this.m_moveitem_js[0].getType(),index:this.m_moveitem_js[0].getTypeIndex(),show:this.move_item_show[0]},{type:this.m_moveitem_js[1].getType(),index:this.m_moveitem_js[1].getTypeIndex(),show:this.move_item_show[1]},{type:this.m_moveitem_js[2].getType(),index:this.m_moveitem_js[2].getTypeIndex(),show:this.move_item_show[2]}],bg_item_data:this.m_bg_item_num,my_score:this.my_score};cc.sys.localStorage.setItem("gamedata",JSON.stringify(e))},readGameData:function(){var e=JSON.parse(cc.sys.localStorage.getItem("gamedata"));if(null!=e){cc.log("yiran  readGameData gamedata:"+e),cc.log("yiran  readGameData gamedata:"+e.bg_item_data),cc.log("yiran  readGameData gamedata:"+e.my_score),this.my_score=e.my_score,this.labMyScore.string=this.my_score,this.m_bg_item_num=e.bg_item_data;for(var t=0;t<this.m_bg_item_num.length;t++)this.m_bg_item_js[t].setType(this.m_bg_item_num[t]);for(var i=e.move_item_data,s=0;s<3;s++)if(this.move_item_show[s]=i[s].show,cc.log("yiran  .... i:"+s+"  type:"+i[s].type+"  index:"+i[s].index),this.m_moveitem_js[s].setType(i[s].type,i[s].index),i[s].show){this.nodeMoveItems[s].scale=.6,this.nodeMoveItems[s].position=this.moveitem_position[s];var o=-94*this.m_moveitem_js[s].getTopOffset()*this.move_scale/2,a=-94*this.m_moveitem_js[s].getRightOffset()*this.move_scale/2;this.nodeMoveItems[s].position=this.nodeMoveItems[s].position.add(new cc.Vec2(a,o)),this.start_item_positon[s]=this.nodeMoveItems[s].position}else this.place_number++,this.nodeMoveItems[s].position=new cc.Vec2(0,-3e3)}},movePlaceOk:function(){this.nodeMoveItems[this.move_item_index].position=new cc.Vec2(0,-3e3),this.move_item_show[this.move_item_index]=!1,cc.audioEngine.play(this.audioPlaceSuccess,!1,1)},moveBackAnimation:function(){var e=cc.spawn(cc.moveTo(.1,this.start_item_positon[this.move_item_index]),cc.scaleTo(.1,.6,.6));this.nodeMoveItems[this.move_item_index].runAction(e)},resetMoveletiate:function(){this.is_moving=!1,this.move_item_index=-1,this.move_item_last=new cc.Vec2(0,0),this.last_color_list=[],this.color_list=[]},clickAnimation:function(e,t){var i=cc.spawn(cc.moveTo(.1,t.x,t.y+300),cc.scaleTo(.1,1,1));e.runAction(i)},showMoveItemAnimation:function(e){var t=cc.spawn(cc.fadeIn(.1),cc.scaleTo(.1,.6,.6));e.runAction(t)},initBg:function(){for(var e=0;e<10;e++)for(var t=0;t<10;t++){var i=cc.instantiate(this.prefabSquareItem);this.node.addChild(i,0),i.position=new cc.Vec2(94*t-423,423-94*e);var s=10*e+t;this.m_bg_item[s]=i,this.m_bg_item_js[s]=i.getComponent("bgitem"),this.m_bg_item_num[s]=-1}},initBgData:function(e){},checkAllBgItem:function(){this.disappear_list=[];for(var e=[],t=0,i=0;i<this.last_color_list.length;i++){for(var s=Math.floor(this.last_color_list[i]/10),o=this.last_color_list[i]-10*s,a=!0,c=0;c<10;c++){var n=10*s+c;if(-1==this.m_bg_item_num[n]){a=!1;break}}if(a&&-1==e.indexOf(s+10)){e.push(s+10);for(var l=0;l<10;l++){var h=10*s+l;-1==this.disappear_list.indexOf(h)&&this.disappear_list.push(h)}t++}for(var m=!0,r=0;r<10;r++){var _=10*r+o;if(-1==this.m_bg_item_num[_]){m=!1;break}}if(m&&-1==e.indexOf(o)){e.push(o);for(var d=0;d<10;d++){var p=10*d+o;-1==this.disappear_list.indexOf(p)&&this.disappear_list.push(p)}t++}}if(0!=this.disappear_list.length){for(var u=0;u<this.disappear_list.length;u++)this.m_bg_item_js[this.disappear_list[u]].disappearAnimation(),this.m_bg_item_num[this.disappear_list[u]]<200?this.m_bg_item_num[this.disappear_list[u]]=-1:this.m_bg_item_num[this.disappear_list[u]]=this.m_bg_item_num[this.disappear_list[u]]-100;this.add_score+=(t+1)*t/2*10,this.audioAllLineRow,cc.audioEngine.play(this.audioAllLineRow,!1,1)}if(this.my_score+=this.add_score,this.playScoreAnimation(this.add_score,this.move_item_last),this.updateScore(),0<this.gamelevel&&(cc.log("yiran ----- myscore:"+this.my_score+"  ==== level_score:"+this.level_score),this.my_score>this.level_score)){if(this.gamelevel<6){var v=JSON.parse(cc.sys.localStorage.getItem("finish_level"));null!=v&&0!=v.length||(v=[!1,!1,!1,!1,!1]),v[this.gamelevel-1]=!0,cc.sys.localStorage.setItem("finish_level",JSON.stringify(v))}return this.nodeNextLevelLayout.active=!0,this.gamelevel==this.max_level&&(this.labelNextContent.string="您已通关，恭喜恭喜。"),cc.sys.localStorage.setItem("best_level",this.gamelevel),void(this.is_game_over=!0)}for(var g=!1,y=0;y<3;y++)if(this.move_item_show[y]){for(var f=0;f<10;f++){for(var x=0;x<10;x++){for(var b=!0,N=0;N<13;N++)if(this.m_moveitem_js[y].getItemIndexShow(N)){if(this.move_item_vec[N].x+x<0||9<this.move_item_vec[N].x+x){b=!1;break}if(this.move_item_vec[N].y+f<0||9<this.move_item_vec[N].y+f){b=!1;break}var S=10*f+x+10*this.move_item_vec[N].y+this.move_item_vec[N].x;if(-1!=this.m_bg_item_num[S]){b=!1;break}}if(b){g=!0;break}}if(g)break}if(g)break}g?0==this.gamelevel&&this.saveGameData():(this.showGameOver(),this.my_score>this.best_score&&(this.best_score=this.my_score,cc.sys.localStorage.setItem("best_score",this.my_score)),cc.sys.localStorage.setItem("gamedata",null))},showGameOver:function(){this.is_game_over=!0,this.nodeOverLayout.active=!0,this.labOverScore.string=this.my_score+"",this.nodeOverLayout.opacity=0;var e=cc.callFunc(function(){this.showAd()},this),t=cc.sequence(cc.delayTime(.5),cc.fadeIn(1),cc.delayTime(.5),e);this.nodeOverLayout.runAction(t)},showPause:function(){this.nodePauseLayout.active=!0},updateScore:function(){this.labMyScore.string=""+this.my_score,this.labBestScore.string=""+this.best_score},goHome:function(){0==this.gamelevel?cc.director.loadScene("MainScene"):cc.director.loadScene("LevelScene")},goOn:function(){this.nodePauseLayout.active=!1},clickNextLevel:function(){this.gamelevel!=this.max_level&&(this.gamelevel++,cc.sys.localStorage.setItem("gamelevel",this.gamelevel),this.nodeNextLevelLayout.active=!1,this.restartGame())},clickNextCancel:function(){cc.director.loadScene("LevelScene")},restartGame:function(){this.nodeOverLayout.active=!1,this.resetData(),this.randomMove(),this.resetBgItem()},playScoreAnimation:function(e,t){this.score_anima_js.setScore(e),this.score_animation.position=t.add(new cc.Vec2(0,300)),this.score_animation.opacity=255;var i=cc.spawn(cc.jumpBy(1,new cc.Vec2(0,-100),100,1),cc.fadeOut(1));this.score_animation.runAction(i)},testFunction:function(){var e="level_"+this.gamelevel;cc.loader.loadRes(e,function(e,t){if(e)cc.error(e);else{cc.log("test == "+t);var i=JSON.parse(t);cc.log("yiran  readGameData gamedata:"+i),cc.log("yiran  readGameData gamedata:"+i.bg_item_data),cc.log("yiran  readGameData gamedata:"+i.my_score)}})},showAd:function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","JJshowAd","()V")}}),cc._RF.pop()},{}],levelitembtn:[function(e,t,i){"use strict";cc._RF.push(t,"8daf9im8uFPaLvanAXZKV/N","levelitembtn"),cc.Class({extends:cc.Component,properties:{nodeSuo:{default:null,type:cc.Node,displayName:"锁"},labLevel:{default:null,type:cc.Label,displayName:"关卡"},nodeBg:{default:null,type:cc.Node,displayName:"背景"},nodeFinish:{default:null,type:cc.Node,displayName:"已完成"}},start:function(){},setLevel:function(e){this.labLevel.string=""+e,this.level=e;var t,i=cc.sys.localStorage.getItem("best_level");if(t=null==i?0:parseInt(i),this.nodeSuo.active=t+1<e&&5<e,5<e&&e<=t)this.nodeFinish.active=!0;else if(e<=5){var s=JSON.parse(cc.sys.localStorage.getItem("finish_level"));null!=s&&0<s.length&&s[e-1]?this.nodeFinish.active=!0:this.nodeFinish.active=!1}else this.nodeFinish.active=!1},clickBtn:function(){this.nodeSuo.active||(cc.sys.localStorage.setItem("gamelevel",this.level),cc.director.loadScene("GameScene"))},showNewAnima:function(e){var t=((this.level=e)-1)%40,i=cc.moveBy(.8,0,-50),s=cc.fadeOut(.8),o=cc.spawn(i,s),a=cc.callFunc(function(){this.nodeBg.position=new cc.Vec2(this.nodeBg.position.x+50,this.nodeBg.position.y)},this),c=cc.moveBy(.6,-50,50),n=cc.fadeIn(.6),l=cc.spawn(c,n),h=cc.sequence(cc.delayTime(.04*t),o,cc.delayTime(.1),a,l);this.nodeBg.runAction(h);var m=cc.moveBy(.8,0,-50),r=cc.fadeOut(.8),_=cc.spawn(m,r),d=cc.callFunc(function(){this.setLevel(e),this.labLevel.node.position=new cc.Vec2(this.labLevel.node.position.x-55,this.labLevel.node.position.y+5)},this),p=cc.moveBy(.6,55,45),u=cc.fadeIn(.6),v=cc.spawn(p,u),g=cc.sequence(cc.delayTime(.04*t),_,cc.delayTime(.1),d,v);this.labLevel.node.runAction(g);var y=cc.moveBy(.8,0,-50),f=cc.fadeOut(.8),x=cc.spawn(y,f),b=cc.callFunc(function(){this.nodeSuo.position=new cc.Vec2(this.nodeSuo.position.x+45,this.nodeSuo.position.y+60+50)},this),N=cc.moveBy(.6,-45,-60),S=cc.fadeIn(.6),w=cc.spawn(N,S),L=cc.sequence(cc.delayTime(.04*t),x,cc.delayTime(.1),b,w);this.nodeSuo.runAction(L);var I=cc.moveBy(.8,0,-50),T=cc.fadeOut(.8),P=cc.spawn(I,T),C=cc.callFunc(function(){this.nodeFinish.position=new cc.Vec2(this.nodeFinish.position.x-55,this.nodeFinish.position.y+40+50)},this),M=cc.moveBy(.6,55,-40),B=cc.fadeIn(.6),j=cc.spawn(M,B),O=cc.sequence(cc.delayTime(.04*t),P,cc.delayTime(.1),C,j);this.nodeFinish.runAction(O)}}),cc._RF.pop()},{}],level:[function(e,t,i){"use strict";cc._RF.push(t,"8a53cTBAaRKTaNYoycMpXTQ","level"),cc.Class({extends:cc.Component,properties:{nodeLevelLayout:{default:null,type:cc.Node,displayName:"关卡界面"},scrollView:{default:null,type:cc.ScrollView,displayName:"滑动模块"},prefabNextPageBtn:{default:null,type:cc.Prefab,displayName:"下一季按钮"},prefabLevelBtn:{default:null,type:cc.Prefab,displayName:"关卡按钮"}},onLoad:function(){this.m_level_item=[],this.m_level_item_js=[],this.level_num=40,this.max_level_num=80,this.page_index=1,this.max_page_num=2},start:function(){var e=cc.sys.localStorage.getItem("cur_page_index");this.page_index=null==e?1:parseInt(e);for(var t=1;t<=this.level_num;t++){var i=cc.instantiate(this.prefabLevelBtn);this.nodeLevelLayout.addChild(i,0);var s=Math.abs(3-(t-1-6*Math.floor((t-1)/6)));i.position=new cc.Vec2(844-(392/3+72)*s,200+80*t),this.m_level_item[t]=i,this.m_level_item_js[t]=i.getComponent("levelitembtn"),this.m_level_item_js[t].setLevel((this.page_index-1)*this.level_num+t)}this.updateView(),cc.sys.os==cc.sys.OS_ANDROID?cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this):cc.log("yiran   ----  other  platform")},updateView:function(){var e=200+80*this.level_num+320;this.nodeLevelLayout.height=e;var t=cc.sys.localStorage.getItem("best_level");(null==t?0:parseInt(t))>=this.page_index*this.level_num&&this.page_index*this.level_num!=this.max_level_num?null==this.btnNextPage?(this.btnNextPage=cc.instantiate(this.prefabNextPageBtn),this.nodeLevelLayout.addChild(this.btnNextPage,0),this.btnNextPage.position=new cc.Vec2(900,e-150),this.next_page_js=this.btnNextPage.getComponent("nextpagebtn"),this.next_page_js.setType(0)):this.btnNextPage.active=!0:null!=this.btnNextPage&&(this.btnNextPage.active=!1),1<this.page_index?null==this.btnPrePage?(this.btnPrePage=cc.instantiate(this.prefabNextPageBtn),this.nodeLevelLayout.addChild(this.btnPrePage,0),this.btnPrePage.position=new cc.Vec2(150,100),this.next_page_js=this.btnPrePage.getComponent("nextpagebtn"),this.next_page_js.setType(1)):this.btnPrePage.active=!0:null!=this.btnPrePage&&(this.btnPrePage.active=!1)},onKeyUp:function(e){e.keyCode==cc.macro.KEY.back&&cc.director.loadScene("MainScene")},clickNextPage:function(){if(!(this.page_index>=this.max_page_num)){this.page_index++;for(var e=1;e<=this.level_num;e++)this.m_level_item_js[e].showNewAnima(this.level_num*(this.page_index-1)+e);this.scrollView.scrollToBottom(.2),this.updateView(),cc.sys.localStorage.setItem("cur_page_index",this.page_index)}},clickPrePage:function(){if(!(this.page_index<=0)){this.page_index--;for(var e=1;e<=this.level_num;e++)this.m_level_item_js[e].showNewAnima(this.level_num*(this.page_index-1)+e);this.scrollView.scrollToTop(.2),this.updateView(),cc.sys.localStorage.setItem("cur_page_index",this.page_index)}}}),cc._RF.pop()},{}],main:[function(e,t,i){"use strict";cc._RF.push(t,"c8d238h7jlIm4eC5UTfQuv7","main"),cc.Class({extends:cc.Component,properties:{btnPlayNormal:{default:null,type:cc.Button,displayName:"普通模式"},btnPlayLevel:{default:null,type:cc.Button,displayName:"关卡模式"},btnMusic:{default:null,type:cc.Button,displayName:"声音开关"},imageMusic:{default:[],type:cc.SpriteFrame,displayName:"音乐图片"}},start:function(){},goGame:function(){cc.director.loadScene("GameScene"),cc.sys.localStorage.setItem("gamelevel",0)},goLevel:function(){cc.director.loadScene("LevelScene")}}),cc._RF.pop()},{}],moveitem:[function(e,t,i){"use strict";cc._RF.push(t,"808caouqmBO/ZwNxaiTMs8J","moveitem"),cc.Class({extends:cc.Component,properties:{nodeSpriteItem:{default:[],type:cc.Node,displayName:"item精灵"},imageSpriteTexture:{default:[],type:cc.SpriteFrame,displayName:"item纹理"},nodeThis:{default:null,type:cc.Node,displayName:"自己本身"}},onLoad:function(){this.item_vec=[{x:0,y:2},{x:0,y:1},{x:0,y:0},{x:0,y:-1},{x:0,y:-2},{x:-1,y:1},{x:-1,y:0},{x:-1,y:-1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:-2,y:0},{x:2,y:0}],this.sp_list=[[[!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],[[!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1]],[[!1,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!1]],[[!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1]],[[!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0]],[[!1,!0,!0,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1]],[[!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!0,!0]],[[!1,!1,!1,!0,!1,!0,!0,!0,!1,!1,!0,!1,!1],[!1,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1,!1,!1],[!1,!0,!1,!1,!1,!0,!1,!1,!0,!0,!0,!1,!1],[!1,!1,!1,!0,!1,!1,!1,!0,!0,!0,!0,!1,!1]],[[!1,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!1,!1]]],this.type_num=[1,2,2,4,2,1,2,4,1],this.offset=[[{top:0,right:0}],[{top:1,right:0},{top:0,right:1}],[{top:0,right:0},{top:0,right:0}],[{top:1,right:1},{top:-1,right:1},{top:-1,right:-1},{top:1,right:-1}],[{top:1,right:0},{top:0,right:1}],[{top:1,right:1}],[{top:0,right:0},{top:0,right:0}],[{top:0,right:0},{top:0,right:0},{top:0,right:0},{top:0,right:0}],[{top:0,right:0}]],this.type=0,this.index=0,this.score=0},start:function(){},setType:function(e,t){for(var i=parseInt(e),s=parseInt(t),o=this.score=0;o<13;o++)this.nodeSpriteItem[o].getComponent(cc.Sprite).spriteFrame=this.imageSpriteTexture[i],this.nodeSpriteItem[o].active=this.sp_list[i][s][o],this.sp_list[i][s][o]&&this.score++;this.type=i,this.index=s},isDirectionOffset:function(e,t,i){return!!((this.offset[t].top||this.offset[t].right)&&(e==i&&this.offset[t].top||e==i+1&&this.offset[t].right||0==e&&3==i&&this.offset[t].right))},getTopOffset:function(){return this.offset[this.type][this.index].top},getRightOffset:function(){return this.offset[this.type][this.index].right},getItemPosition:function(e){return this.nodeSpriteItem[e].position},isItemHad:function(e){return this.sp_list[this.type][this.index][e]},randType:function(){var e=Math.floor(9*Math.random()),t=Math.floor(Math.random()*this.type_num[e]);this.setType(e,t)},getType:function(){return this.type},getTypeIndex:function(){return this.index},getScore:function(){return this.score},getItemIndexShow:function(e){return this.sp_list[this.type][this.index][e]}}),cc._RF.pop()},{}],nextpagebtn:[function(e,t,i){"use strict";cc._RF.push(t,"85f03jd1RBO3afx2GSN5hya","nextpagebtn"),cc.Class({extends:cc.Component,properties:{nodeNextPage:{default:null,type:cc.Node,displayName:"按钮"},labNextPage:{default:null,type:cc.Label,displayName:"文字"}},onLoad:function(){this.max_level_page=2},start:function(){},setType:function(e){this.type=e,cc.log("yiran  -----=====------  next page type:"+this.type),0==this.type?(this.labNextPage.string="下一页",this.nodeNextPage.scaleX=-1,this.nodeNextPage.scaleY=1,this.nodeNextPage.position=new cc.Vec2(0,0)):1==this.type&&(this.labNextPage.string="上一页",this.nodeNextPage.scaleY=-1,this.nodeNextPage.scaleX=1,this.nodeNextPage.position=new cc.Vec2(0,16))},getType:function(){return this.type},clickBtn:function(){0==this.type?cc.find("Canvas").getComponent("level").clickNextPage():cc.find("Canvas").getComponent("level").clickPrePage()}}),cc._RF.pop()},{}],scoreanima:[function(e,t,i){"use strict";cc._RF.push(t,"9ebd8a0mIRMApzYmzBnUoTx","scoreanima"),cc.Class({extends:cc.Component,properties:{labScore:{default:null,type:cc.Label,displayName:"分数"}},start:function(){},setScore:function(e){this.labScore.string="+ "+e}}),cc._RF.pop()},{}],smallitem:[function(e,t,i){"use strict";cc._RF.push(t,"adb5bnwshBKObjYy6DjgvYs","smallitem"),cc.Class({extends:cc.Component,properties:{nodeSpriteItem:{default:null,type:cc.Node,displayName:"item精灵"},imageSpriteTexture:{default:[],type:cc.SpriteFrame,displayName:"item纹理"}},start:function(){}}),cc._RF.pop()},{}]},{},["bgitem","game","level","levelitembtn","main","moveitem","nextpagebtn","scoreanima","smallitem"]);